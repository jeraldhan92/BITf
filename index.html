<html>
<head>
<script src="papaparse.min.js"></script>
<script src="jquery.min.js"></script>
  <link rel="stylesheet" href="formatDiagram.css">

</head>

<body>
  <script src="display2.js">
  </script>

<input type="file" id="csvFile" name="files" oninput="handleFileSelect(csvFile)"/>
<button onclick="wishlist.forEach(generateDiagram)">Generate Diagram</button>

<div>
  <h1>Process Owner Mapping</h1>
</div>

<script>

var divMain = document.createElement("div");
divMain.classList.add('divMain1')
document.body.appendChild(divMain);

// var secHeaderCurrent;
// console.log(secHeaderCurrent);

for (i = 0; i < wishlist.length; i++) {

// Register Section of the item



function generateDiagram(item) {
  // var secHeader1 = item.SN[0];
  // console.log(secHeader1);
  //
  // if (secHeader1 != secHeaderCurrent){
  //     var newSecDiv = document.createElement("span");
  //     newSecDiv.classList.add('newSecDiv1')
  //     if (secHeader1 == "A"){
  //       var SecDivText = document.createTextNode("Contract Information");
  //     }
  //     else if (secHeader1 == "B"){
  //       var SecDivText = document.createTextNode("Residential Building Information");
  //     }
  //     else if (secHeader1 == "C"){
  //       var SecDivText = document.createTextNode("Residential Building Lifts Information");
  //     }
  //     else if (secHeader1 == "D"){
  //       var SecDivText = document.createTextNode("Unit Information");
  //     }
  //     else if (secHeader1 == "E"){
  //       var SecDivText = document.createTextNode("Carpark Information");
  //     }
  //     else if (secHeader1 == "F"){
  //       var SecDivText = document.createTextNode("Amenities Information");
  //     }
  //     else if (secHeader1 == "G"){
  //       var SecDivText = document.createTextNode("Construction Information");
  //     }
  //
  //     newSecDiv.appendChild(SecDivText);
  //     document.body.appendChild(newSecDiv);
  // }
  //
  // var secHeaderCurrent = secHeader1;

  // create a new div element for the Process Owners
  var newdiv1 = document.createElement("div");
  newdiv1.classList.add('divSec')
  divMain.appendChild(newdiv1);

  var newspan1 = document.createElement("span");
  newspan1.classList.add('o1')
  var newdataOwner1 = document.createTextNode(item.dataOwner1);
  newspan1.appendChild(newdataOwner1);
  newdiv1.appendChild(newspan1);

  var newspan2 = document.createElement("span");
  newspan2.classList.add('o2')
  var newdataOwner2 = document.createTextNode(item.dataOwner2);
  newspan2.appendChild(newdataOwner2);
  newdiv1.appendChild(newspan2);

  var newspan3 = document.createElement("span");
  newspan3.classList.add('o3')
  var newdataOwner3 = document.createTextNode(item.dataOwner3);
  newspan3.appendChild(newdataOwner3);
  newdiv1.appendChild(newspan3);
  //attach content to div

  //div for holder box object and text object
  var divText = document.createElement("div");
if (item.priority == 1){
  divText.classList.add('textBoxP1')
  } else if (item.priority == 2){
    divText.classList.add('textBoxP2')
  }
  else {
    divText.classList.add('textBoxP3')
  }

  var newspan4 = document.createElement("span");
  newspan4.classList.add('o4')
  // attach content

  var newSN = document.createTextNode(item.SN + ": ");
  var newdataItem = document.createTextNode(item.dataItem);
  // add content to div element
  newspan4.appendChild(newSN);
  newspan4.appendChild(newdataItem);
  divText.appendChild(newspan4);
  //send content to dom
  newdiv1.appendChild(divText);

  // segment for dataApp
  if (typeof item.dataApp == "string"){
  var newspan5 = document.createElement("span");
  newspan5.classList.add('o5')
  // attach content
  var newdataApp = document.createTextNode(item.dataApp);
  // add content to p elements
  newspan5.appendChild(newdataApp);
  //send content to dom
  newdiv1.appendChild(newspan5);
  }

  //leaving a space
  var newspace = document.createElement("br");
  document.body.appendChild(newspace);

}
}
</script>

</body>

</html>
